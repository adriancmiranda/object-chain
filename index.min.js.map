{"version":3,"file":"index.min.js","sources":["node_modules/describe-type/source/is/array.js","node_modules/describe-type/source/is/arraylike.js","index.next.js"],"sourcesContent":["/**\n *\n * @function\n * @memberof is\n * @param {any} value\n * @returns {Boolean}\n */\nexport default function array(value) {\n\tif (value == null) return false;\n\treturn value.constructor === Array;\n}\n","import array from './array.js';\nimport string from './string.js';\n\n/**\n *\n * @function\n * @memberof is\n * @param {any} value\n * @returns {Boolean}\n */\nexport default function arraylike(value) {\n\treturn array(value) || string(value) || (\n\t\t(!!value && typeof value === 'object' && typeof value.length === 'number') &&\n\t\t(value.length === 0 || (value.length > 0 && (value.length - 1) in value))\n\t);\n}\n","import callable from 'describe-type/source/is/callable.js';\nimport string from 'describe-type/source/is/string.js';\nimport undef from 'describe-type/source/is/undef.js';\nimport apply from 'describe-type/source/@/apply.js';\n\nconst arrayFrom = Array.from;\nconst setPrototypeOf = Object.setPrototypeOf;\nconst defineProps = Object.defineProperties;\nconst create = Object.create;\nconst keys = Object.keys;\n\nconst processArgs = (args, initialValue) => (\n  arrayFrom(args).reduce((acc, arg, i) => {\n    acc[acc.length] = callable(arg) ? arg() : arg;\n    return acc;\n  }, initialValue)\n);\n\nconst transform = (rules, middleware) => {\n  function applyRules() {\n    const pattern = this.rules.reduce((acc, rule, index) => {\n      if (callable(rules[rule])) {\n        const args = processArgs(this.args[`${rule}${index}`], [acc]);\n        const result = apply(rules[rule], this, args);\n        if (string(result)) acc += result;\n        else return result;\n      } else {\n        acc += rules[rule];\n      }\n      return acc;\n    }, '');\n    return middleware ? apply(middleware, this, [pattern, arguments], true) : pattern;\n  }\n\n  function build(rules, args, index) {\n    function builder() { return apply(applyRules, builder, arguments); }\n    builder.rules = rules;\n    builder.args = args;\n    builder.index = index;\n    setPrototypeOf(builder, proto);\n    return builder;\n  }\n\n  const expressions = keys(rules).reduce((acc, rule, index) => {\n    const isfn = callable(rules[rule]);\n    acc[rule] = { [isfn ? 'value' : 'get']: function append() {\n      this.index += 1;\n      if (isfn) this.args[`${rule}${this.index}`] = arguments;\n      return build(this.rules.concat(rule), this.args, this.index);\n    }};\n    return acc;\n  }, create(null));\n\n  const proto = defineProps(function match() {}, expressions);\n  return defineProps({ rules }, keys(expressions).reduce((acc, rule, index) => {\n    const isfn = callable(rules[rule]);\n    acc[rule] = { [isfn ? 'value' : 'get']: function append() {\n      if (undef(this.args)) this.args = arguments;\n      if (isfn) this.args[`${rule}${0}`] = arguments;\n      return build([rule], this.args, 0);\n    }};\n    return acc;\n  }, create(null)));\n};\n\nexport default transform;\n"],"names":["array"],"mappings":";;;;;;;;;;;;;;;;oTAOe,CAAA,kDCIPA,CAAAA,s5CC0CoB,CAAA"}